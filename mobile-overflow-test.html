<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mobile Overflow Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    /* Current theme styles */
    * { box-sizing: border-box; }
    html, body { overflow-x: hidden; width: 100%; position: relative; }
    .container, .max-w-full { max-width: 100vw !important; overflow-x: hidden; }
    nav, header, footer, main, section, div { max-width: 100vw; }

    /* Mobile fixes */
    @media (max-width: 640px) {
      * { max-width: 100vw !important; }
      body, html { width: 100vw !important; overflow-x: hidden !important; }
      nav, header, main, section, footer, div { max-width: 100vw !important; }
      .sticky { width: 100vw !important; left: 0 !important; right: 0 !important; }
      .material-icons { flex-shrink: 0; max-width: 24px; }
    }

    /* Test utilities */
    .test-box {
      border: 2px solid #333;
      margin: 10px 0;
      padding: 10px;
      background: #f0f0f0;
    }

    .overflow-indicator {
      position: fixed;
      top: 10px;
      left: 10px;
      background: #ff0000;
      color: white;
      padding: 8px;
      border-radius: 4px;
      font-size: 11px;
      z-index: 9999;
      max-width: 200px;
    }

    /* Test problematic elements */
    .test-wide-element {
      width: 400px;
      background: red;
      height: 50px;
      margin: 10px 0;
    }

    .test-long-text {
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">

<div id="overflow-indicator" class="overflow-indicator">
  Checking...
</div>

<div class="max-w-full mx-auto px-3 sm:px-4">

  <!-- TEST 1: Basic Navigation Structure -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 1: Navigation</h2>
    <nav class="sticky top-0 z-50 mt-2 sm:mt-4">
      <div class="max-w-full lg:max-w-7xl mx-auto px-3 sm:px-4">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="flex items-center justify-between p-4 md:hidden">
            <div class="flex items-center gap-2">
              <span class="material-icons text-blue-600">phone_iphone</span>
              <span class="text-blue-600 font-bold text-lg">SmartObzor</span>
            </div>
            <button class="text-gray-600 hover:text-blue-600 transition-colors">
              <span class="material-icons text-2xl">menu</span>
            </button>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <!-- TEST 2: Intentionally Wide Element -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 2: Wide Element (Should Overflow)</h2>
    <div class="test-wide-element">This element is 400px wide - should cause overflow</div>
  </div>

  <!-- TEST 3: Long Text -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 3: Long Text</h2>
    <div class="bg-white p-4 rounded">
      <h3 class="test-long-text font-bold">VeryVeryVeryLongTextWithoutSpacesToTestWordWrappingBehaviorOnMobileDevicesAndSeeIfItCausesHorizontalScrolling</h3>
      <p class="test-long-text text-sm mt-2">Antidisestablishmentarianism supercalifragilisticexpialidocious pneumonoultramicroscopicsilicovolcanoconiosisverylongwordtesting</p>
    </div>
  </div>

  <!-- TEST 4: Grid Layout -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 4: Grid Layout</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-6">
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <div class="w-full h-32 bg-gray-300 rounded mb-2"></div>
        <h4 class="font-semibold text-sm">Test Post Title</h4>
      </div>
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <div class="w-full h-32 bg-gray-300 rounded mb-2"></div>
        <h4 class="font-semibold text-sm">Another Test Post</h4>
      </div>
    </div>
  </div>

  <!-- TEST 5: Flex with Fixed Elements -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 5: Flex Layout</h2>
    <div class="flex gap-3 bg-white p-4 rounded">
      <div class="w-12 h-12 bg-blue-500 rounded flex-shrink-0"></div>
      <div class="flex-1 min-w-0">
        <h5 class="font-semibold text-sm">Flexible Title Content</h5>
        <p class="text-xs text-gray-600">This content should flex properly</p>
      </div>
    </div>
  </div>

  <!-- TEST 6: Form Elements -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 6: Form Elements</h2>
    <form class="bg-white p-4 rounded space-y-3">
      <input type="email" placeholder="Enter your email address here"
             class="w-full px-3 sm:px-4 py-2 border rounded-lg">
      <button type="submit"
              class="w-full bg-blue-600 text-white py-2 px-3 sm:px-4 rounded-lg">
        Subscribe to Newsletter
      </button>
    </form>
  </div>

  <!-- TEST 7: Footer Layout -->
  <div class="test-box">
    <h2 class="font-bold mb-2">TEST 7: Footer Layout</h2>
    <footer class="bg-gray-900 text-white py-8 rounded">
      <div class="max-w-full mx-auto px-3 sm:px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8">
          <div>
            <h4 class="text-lg font-bold mb-4 text-blue-400">Site Name</h4>
            <div class="flex space-x-3 sm:space-x-4">
              <span class="material-icons text-gray-300">facebook</span>
              <span class="material-icons text-gray-300">twitter</span>
              <span class="material-icons text-gray-300">instagram</span>
            </div>
          </div>
          <div>
            <h4 class="text-lg font-bold mb-4 text-blue-400">Categories</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="#" class="text-gray-300">Mobile Tech</a></li>
              <li><a href="#" class="text-gray-300">AI & Gaming</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
  </div>

</div>

<script>
function checkOverflow() {
  const indicator = document.getElementById('overflow-indicator');
  const body = document.body;
  const html = document.documentElement;

  const bodyScrollWidth = body.scrollWidth;
  const htmlScrollWidth = html.scrollWidth;
  const clientWidth = document.documentElement.clientWidth;

  const hasOverflowBody = bodyScrollWidth > clientWidth;
  const hasOverflowHtml = htmlScrollWidth > clientWidth;
  const hasOverflow = hasOverflowBody || hasOverflowHtml;

  if (hasOverflow) {
    indicator.style.background = '#ff0000';
    indicator.innerHTML = `üö´ OVERFLOW DETECTED!<br>
      Body: ${bodyScrollWidth}px<br>
      HTML: ${htmlScrollWidth}px<br>
      Viewport: ${clientWidth}px<br>
      Diff: ${Math.max(bodyScrollWidth, htmlScrollWidth) - clientWidth}px`;

    // Find overflow elements
    const elements = Array.from(document.querySelectorAll('*'));
    const overflowElements = elements.filter(el => {
      const rect = el.getBoundingClientRect();
      return rect.right > clientWidth || rect.width > clientWidth;
    }).slice(0, 5); // Limit to first 5

    console.group('üö´ OVERFLOW ELEMENTS DETECTED:');
    overflowElements.forEach((el, index) => {
      const rect = el.getBoundingClientRect();
      console.log(`${index + 1}. ${el.tagName}${el.className ? '.' + el.className.split(' ').join('.') : ''}`, {
        width: Math.round(rect.width),
        right: Math.round(rect.right),
        overflow: Math.round(rect.right - clientWidth),
        element: el
      });
    });
    console.groupEnd();

  } else {
    indicator.style.background = '#00aa00';
    indicator.innerHTML = `‚úÖ NO OVERFLOW<br>
      Viewport: ${clientWidth}px<br>
      Body: ${bodyScrollWidth}px<br>
      Status: OK`;
  }
}

// Run check
checkOverflow();
window.addEventListener('resize', checkOverflow);
window.addEventListener('orientationchange', () => {
  setTimeout(checkOverflow, 500);
});

// Check periodically for dynamic content
setInterval(checkOverflow, 3000);

console.log('üîç Mobile Overflow Test Loaded. Check the red/green indicator in top-left corner.');
</script>

</body>
</html>